apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  annotations:
    alm-examples: >-
      [{"apiVersion":"rhoas.redhat.com/v1alpha1","kind":"KafkaConnection","metadata":{"name":"example", "namespace":"example-namespace", "labels":{"app.kubernetes.io/component":"external-service", "app.kubernetes.io/managed-by":"rhoas"}},"spec":{"accessTokenSecretName":"rh-managed-services-api-accesstoken", "kafkaId":"exampleId","credentials":{"serviceAccountSecretName":"service-account-secret"}}},{"apiVersion":"rhoas.redhat.com/v1alpha1","kind":"CloudServiceAccountRequest","metadata":{"name":"example","namespace":"example-namespace"},"spec":{"serviceAccountName": "RhoasOperatorServiceAccount","serviceAccountDescription": "Operator created service account","serviceAccountSecretName": "service-account-credentials",  "accessTokenSecretName": "rh-managed-services-api-accesstoken"}},{"apiVersion":"rhoas.redhat.com/v1alpha1","kind":"CloudServicesRequest","metadata":{"name":"example","namespace":"example-namespace", "labels":{"app.kubernetes.io/component":"external-service", "app.kubernetes.io/managed-by":"rhoas"}},"spec":{"accessTokenSecretName": "rh-cloud-services-api-accesstoken"}}]
    categories: 'Developer Tools, OpenShift Optional, Integration & Delivery'
    certified: 'false'
    description: 'Red Hat OpenShift Application Services Operator'
    capabilities: Seamless Upgrades
    repository: 'https://github.com/redhat-developer/app-services-operator'
    containerImage: quay.io/{{organization}}/service-operator:{{version}}
    createdAt: {{time}}
    olm.skipRange: ">=0.0.1 <{{version}}"    
  name: rhoas-operator.{{version}}
spec:
  apiservicedefinitions: {}
  customresourcedefinitions:
    owned:
    - description: Creates RHOAS Service Accounts
      displayName: Cloud Service Account Request
      kind: CloudServiceAccountRequest
      name: cloudserviceaccountrequests.rhoas.redhat.com
      version: v1alpha1
    - description: Cloud Services Request
      displayName:  Cloud Services Request
      kind: CloudServicesRequest
      name: cloudservicesrequests.rhoas.redhat.com
      version: v1alpha1
    - description: Binds Cloud Kafka
      displayName: Kafka Connection
      kind: KafkaConnection
      name: kafkaconnections.rhoas.redhat.com
      version: v1alpha1            
  icon:
  - base64data: PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAzNyAzNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzcgMzc7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRUUwMDAwO30KCS5zdDF7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPGc+Cgk8cGF0aCBkPSJNMjcuNSwwLjVoLTE4Yy00Ljk3LDAtOSw0LjAzLTksOXYxOGMwLDQuOTcsNC4wMyw5LDksOWgxOGM0Ljk3LDAsOS00LjAzLDktOXYtMThDMzYuNSw0LjUzLDMyLjQ3LDAuNSwyNy41LDAuNUwyNy41LDAuNXoiCgkJLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNi41LDE4LjEyYy0xLjcyLDAtMy4xMi0xLjQtMy4xMi0zLjEyczEuNC0zLjEyLDMuMTItMy4xMnMzLjEyLDEuNCwzLjEyLDMuMTJTMTguMjIsMTguMTIsMTYuNSwxOC4xMnoKCQkgTTE2LjUsMTMuMTJjLTEuMDMsMC0xLjg4LDAuODQtMS44OCwxLjg4czAuODQsMS44OCwxLjg4LDEuODhzMS44OC0wLjg0LDEuODgtMS44OFMxNy41MywxMy4xMiwxNi41LDEzLjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTEyLjk0LDExLjA2bC0yLTJjLTAuMDgtMC4wOC0wLjE4LTAuMTMtMC4yOS0wLjE1Yy0wLjAzLTAuMDEtMC4wNS0wLjAxLTAuMDctMC4wMQoJCWMtMC4xMS0wLjAxLTAuMjItMC4wMS0wLjMyLDAuMDNjMCwwLDAsMCwwLDBjLTAuMDcsMC4wMy0wLjEzLDAuMDctMC4xOCwwLjEyYy0wLjAxLDAuMDEtMC4wMSwwLjAxLTAuMDIsMC4wMWwtMiwyCgkJYy0wLjI0LDAuMjQtMC4yNCwwLjY0LDAsMC44OGMwLjEyLDAuMTIsMC4yOCwwLjE4LDAuNDQsMC4xOHMwLjMyLTAuMDYsMC40NC0wLjE4bDAuOTMtMC45M1YyMi41YzAsMC4zNSwwLjI4LDAuNjIsMC42MiwwLjYyCgkJczAuNjItMC4yOCwwLjYyLTAuNjJWMTEuMDFsMC45MywwLjkzYzAuMjQsMC4yNCwwLjY0LDAuMjQsMC44OCwwQzEzLjE5LDExLjcsMTMuMTksMTEuMywxMi45NCwxMS4wNnoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMi41LDE4LjEyYy0wLjM0LDAtMC42Mi0wLjI4LTAuNjItMC42MnYtNWMwLTAuMzUsMC4yOC0wLjYyLDAuNjItMC42MnMwLjYyLDAuMjgsMC42MiwwLjYydjUKCQlDMjMuMTIsMTcuODUsMjIuODQsMTguMTIsMjIuNSwxOC4xMnoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMC41LDI1LjEyYy0xLjcyLDAtMy4xMi0xLjQtMy4xMi0zLjEyczEuNC0zLjEyLDMuMTItMy4xMnMzLjEyLDEuNCwzLjEyLDMuMTJTMjIuMjIsMjUuMTIsMjAuNSwyNS4xMnoKCQkgTTIwLjUsMjAuMTJjLTEuMDMsMC0xLjg4LDAuODQtMS44OCwxLjg4czAuODQsMS44OCwxLjg4LDEuODhzMS44OC0wLjg0LDEuODgtMS44OFMyMS41MywyMC4xMiwyMC41LDIwLjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI4Ljk0LDI1LjA2Yy0wLjI0LTAuMjQtMC42NC0wLjI0LTAuODgsMGwtMC45MywwLjkzVjEyLjVjMC0wLjM1LTAuMjgtMC42Mi0wLjYyLTAuNjJzLTAuNjIsMC4yOC0wLjYyLDAuNjIKCQl2MTMuNDlsLTAuOTMtMC45M2MtMC4yNC0wLjI0LTAuNjQtMC4yNC0wLjg4LDBjLTAuMjQsMC4yNC0wLjI0LDAuNjQsMCwwLjg4bDIsMmMwLjA2LDAuMDYsMC4xMywwLjExLDAuMjEsMC4xNAoJCWMwLjA4LDAuMDMsMC4xNiwwLjA1LDAuMjQsMC4wNWMwLjA4LDAsMC4xNi0wLjAyLDAuMjQtMC4wNWMwLDAsMCwwLDAsMGMwLjA3LTAuMDMsMC4xMy0wLjA3LDAuMTgtMC4xMgoJCWMwLjAxLTAuMDEsMC4wMS0wLjAxLDAuMDItMC4wMWwyLTJDMjkuMTksMjUuNywyOS4xOSwyNS4zLDI4Ljk0LDI1LjA2eiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTE0LjUsMjUuMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMxNS4xMiwyNC44NSwxNC44NCwyNS4xMiwxNC41LDI1LjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTI2LjUsMTguMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMyNy4xMiwxNy44NSwyNi44NCwxOC4xMiwyNi41LDE4LjEyeiIvPgoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTEwLjUsMjUuMTJjLTAuMzQsMC0wLjYyLTAuMjgtMC42Mi0wLjYydi01YzAtMC4zNSwwLjI4LTAuNjIsMC42Mi0wLjYyczAuNjIsMC4yOCwwLjYyLDAuNjJ2NQoJCUMxMS4xMiwyNC44NSwxMC44NCwyNS4xMiwxMC41LDI1LjEyeiIvPgo8L2c+Cjwvc3ZnPgo=
    mediatype: image/svg+xml
  installModes:
  - supported: false
    type: OwnNamespace
  - supported: false
    type: SingleNamespace
  - supported: false
    type: MultiNamespace
  - supported: true
    type: AllNamespaces
  install:
    strategy: deployment
    spec: 
      permissions:
      - serviceAccountName: rhoas-operator 
        rules:
        - apiGroups:
            - 'apiextensions.k8s.io'
          resources:
            - 'customresourcedefinitions'  
          verbs:
            - get
            - list
            - watch
        - apiGroups:
            - ""
          resources:
            - secrets
          verbs:
            - create
            - delete
            - get
            - list
            - patch
            - update
            - watch
        - apiGroups:
            - rhoas.redhat.com
          resources:
            - 'kafkaconnections'
            - 'kafkaconnections/status'
            - 'kafkaconnections/finalizers'
            - 'cloudservicesrequests'
            - 'cloudservicesrequests/status'
            - 'cloudservicesrequests/finalizers'
            - 'cloudserviceaccountrequests'
            - 'cloudserviceaccountrequests/status'
            - 'cloudserviceaccountrequests/finalizers'
          verbs:
            - create
            - delete
            - get
            - list
            - patch
            - update
            - watch
        - apiGroups:
            - console.openshift.io
          resources:
            - 'consolequickstarts'
            - 'consolequickstarts/status'
            - 'consolequickstarts/finalizers'
          verbs:
            - create
            - delete
            - get
            - list
            - patch
            - update
            - watch
      deployments:
      - name: rhoas-operator
        spec:
          replicas: 1
          selector:
            matchLabels:
              name: rhoas-operator
          strategy: {}
          template:
            metadata:
              labels:
                name: rhoas-operator
            spec:
              containers:
              - image: quay.io/{{organization}}/service-operator:{{version}}
                env:
                  - name: CLOUD_SERVICES_API
                    value: https://api.openshift.com
                imagePullPolicy: Always
                name: rhoas-operator
                resources:
                  limits:
                    cpu: 60m
                    memory: 512Mi
                  requests:
                    cpu: 30m
                    memory: 128Mi                
              serviceAccountName: rhoas-operator
  description:  >-
    **OpenShift Application Services Operator (RHOAS-Operator)** creates instances of Red Hat OpenShift Application Services in your cluster.
    Operator is currently available as limited Beta and it cannot be consumed without invitation.


    Red Hat OpenShift Application Services, when added to Red Hat OpenShift Dedicated, 
    provide a streamlined developer experience for building, deploying, 
    and scaling cloud-native applications in open hybrid-cloud environments.   
    

    RHOAS-Operator enables developers to connect with their Application Services directly in their own cluster by using
    [RHOAS cli](https://github.com/redhat-developer/app-services-cli) and OpenShift Console UI.  
    

    RHOAS-Operator requires developers to connect with their Red Hat OpenShift Streams for Apache Kafka (RHOSAK) instances.  
    

  displayName: OpenShift Application Services (RHOAS)
  keywords:
  - cloud
  - rhoas
  - kafka
  - serviceregistry
  - app-services
  - application
  - services
  maintainers:
  - email: rhosak-eval-support@redhat.com
    name: Red Hat
  maturity: beta
  links:
    - name: RHOAS Operator Documentation
      url: 'https://github.com/redhat-developer/app-services-operator/tree/main/docs'  
  provider:
    name: Red Hat Inc.
    url: https://github.com/redhat-developer/app-services-operator/
  version: {{version}}
